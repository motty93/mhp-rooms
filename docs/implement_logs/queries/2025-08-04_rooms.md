## 部屋一覧
chi移行後に部屋一覧で出ているクエリ。

移行前よりも実行クエリが増えている。

```bash
2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/user_repository.go:55
[5.507ms] [rows:1] SELECT * FROM "users" WHERE supabase_user_id = '7c92fde0-2785-454d-86d7-dd19f4290034' ORDER BY "users"."id" LIMIT 1

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/game_version_repository.go:56
[0.834ms] [rows:2] SELECT * FROM "platforms" WHERE "platforms"."id" IN ('d784a1f7-c7e0-4633-9ceb-2f237b9a3323','d28c2776-439f-45ca-94de-d222bd50bab9')

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/game_version_repository.go:56
[2.365ms] [rows:5] SELECT * FROM "game_versions" WHERE is_active = true ORDER BY display_order ASC
2025/08/04 10:24:47 [DEBUG] Rooms: 認証済みユーザー: ID=52612959-3044-4c7c-a623-2fdf52088388, Email=rdwbocungelt5@gmail.com

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:147
[0.480ms] [rows:5] SELECT * FROM "game_versions" WHERE "game_versions"."id" IN ('05ec7899-6afd-48a2-a8e3-2495348c9990','4568e2b0-c875-4d3a-977e-2ba995fc67c8','6ad13aca-8185-4c5f-b0ce-042519aadfe9','008e41f2-7c63-4c1b-b24d-f4e7ad865acb','98a9b5c5-7dda-4887-a4d9-cc0556272271')

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:147
[0.602ms] [rows:3] SELECT * FROM "users" WHERE "users"."id" IN ('d56f582b-4490-4399-b698-29e57d3b208c','cdb262ff-2889-4b3b-9446-1017e206eed9','9c40956c-88b2-4de6-a441-c8028b8566d7')

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:147
[5.636ms] [rows:17] SELECT rooms.*, COUNT(DISTINCT rm.id) as current_players FROM "rooms" LEFT JOIN room_members rm ON rooms.id = rm.room_id AND rm.status = 'active' WHERE rooms.is_active = true GROUP BY "rooms"."id" ORDER BY rooms.created_at DESC LIMIT 100

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:165
[1.882ms] [rows:1] SELECT room_id FROM "room_members" WHERE user_id = '52612959-3044-4c7c-a623-2fdf52088388' AND status = 'active' AND room_id IN ('7e3562bb-0543-4874-9b1a-57c0df7cfbac','177bfecf-cd7a-4df6-be07-dba146b3e26d','3ac9ab3a-cee4-4221-902b-8350163de6d0','be08d649-a001-4ba3-b2da-f05b1fafd2ac','7c5c3ac4-753e-44c2-902c-52c2a813743f','5db5ed3b-6070-40a1-8232-1d9629be6b56','4f09b2fd-7dd8-4c00-9c7d-411c939bf13f','6ffff2b0-37a6-4f2a-aa5d-8613f7e730c9','63ed3918-d236-4016-9619-567e743037c7','5322876b-781d-4dc8-8b36-212833ffa42e','1ef0bb31-d554-4017-ad71-3759c08a6a65','5b9e6f2f-c0c9-44b0-bdc5-512e1f311ac3','bd48f5e5-9cad-4f6f-a14a-a00382ed33a6','034f3bce-3e44-4ca6-8e46-93e1a7b93724','bda27438-b37c-4ecc-ad8b-37bfc745e7aa','e6dd4ae6-7ff2-4e03-a5f3-316ad6f7b2ae','c704f88c-23bc-4e86-99e5-dbe196f503c0')

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:384
[1.205ms] [rows:1] SELECT * FROM "room_members" WHERE user_id = '52612959-3044-4c7c-a623-2fdf52088388' AND status = 'active' ORDER BY "room_members"."id" LIMIT 1

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:392
[1.164ms] [rows:1] SELECT * FROM "rooms" WHERE id = 'e6dd4ae6-7ff2-4e03-a5f3-316ad6f7b2ae' ORDER BY "rooms"."id" LIMIT 1

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:384
[0.569ms] [rows:1] SELECT * FROM "room_members" WHERE user_id = '52612959-3044-4c7c-a623-2fdf52088388' AND status = 'active' ORDER BY "room_members"."id" LIMIT 1

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:392
[0.320ms] [rows:1] SELECT * FROM "rooms" WHERE id = 'e6dd4ae6-7ff2-4e03-a5f3-316ad6f7b2ae' ORDER BY "rooms"."id" LIMIT 1

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:384
[0.672ms] [rows:1] SELECT * FROM "room_members" WHERE user_id = '52612959-3044-4c7c-a623-2fdf52088388' AND status = 'active' ORDER BY "room_members"."id" LIMIT 1

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:392
[0.434ms] [rows:1] SELECT * FROM "rooms" WHERE id = 'e6dd4ae6-7ff2-4e03-a5f3-316ad6f7b2ae' ORDER BY "rooms"."id" LIMIT 1

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:384
[0.874ms] [rows:1] SELECT * FROM "room_members" WHERE user_id = '52612959-3044-4c7c-a623-2fdf52088388' AND status = 'active' ORDER BY "room_members"."id" LIMIT 1

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:392
[0.542ms] [rows:1] SELECT * FROM "rooms" WHERE id = 'e6dd4ae6-7ff2-4e03-a5f3-316ad6f7b2ae' ORDER BY "rooms"."id" LIMIT 1

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:384
[0.571ms] [rows:1] SELECT * FROM "room_members" WHERE user_id = '52612959-3044-4c7c-a623-2fdf52088388' AND status = 'active' ORDER BY "room_members"."id" LIMIT 1

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:392
[0.380ms] [rows:1] SELECT * FROM "rooms" WHERE id = 'e6dd4ae6-7ff2-4e03-a5f3-316ad6f7b2ae' ORDER BY "rooms"."id" LIMIT 1

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:384
[0.579ms] [rows:1] SELECT * FROM "room_members" WHERE user_id = '52612959-3044-4c7c-a623-2fdf52088388' AND status = 'active' ORDER BY "room_members"."id" LIMIT 1

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:392
[0.443ms] [rows:1] SELECT * FROM "rooms" WHERE id = 'e6dd4ae6-7ff2-4e03-a5f3-316ad6f7b2ae' ORDER BY "rooms"."id" LIMIT 1

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:384
[0.459ms] [rows:1] SELECT * FROM "room_members" WHERE user_id = '52612959-3044-4c7c-a623-2fdf52088388' AND status = 'active' ORDER BY "room_members"."id" LIMIT 1

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:392
[0.358ms] [rows:1] SELECT * FROM "rooms" WHERE id = 'e6dd4ae6-7ff2-4e03-a5f3-316ad6f7b2ae' ORDER BY "rooms"."id" LIMIT 1

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:384
[0.344ms] [rows:1] SELECT * FROM "room_members" WHERE user_id = '52612959-3044-4c7c-a623-2fdf52088388' AND status = 'active' ORDER BY "room_members"."id" LIMIT 1

2025/08/04 10:24:47 /home/motty93/github.com/motty93/mhp-rooms/internal/repository/room_repository.go:392
[0.389ms] [rows:1] SELECT * FROM "rooms" WHERE id = 'e6dd4ae6-7ff2-4e03-a5f3-316ad6f7b2ae' ORDER BY "rooms"."id" LIMIT 1
```
